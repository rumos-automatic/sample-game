<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puzzle & Dragons RPG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-wrapper">
        <!-- „Çø„Ç§„Éà„É´ÁîªÈù¢ -->
        <div class="title-screen" id="titleScreen">
            <div class="title-content">
                <h1 class="game-title">PUZZLE & DRAGONS</h1>
                <p class="subtitle">„Äú‰ºùË™¨„ÅÆ„Ç™„Éº„Éñ„Éû„Çπ„Çø„Éº„Äú</p>
                <button class="start-btn" id="startBtn">„Ç≤„Éº„É†ÈñãÂßã</button>
                <button class="continue-btn" id="continueBtn">Á∂ö„Åç„Åã„Çâ</button>
                <div class="version">Version 1.0.0</div>
            </div>
        </div>

        <!-- „É°„Ç§„É≥„É°„Éã„É•„Éº -->
        <div class="main-menu" id="mainMenu" style="display: none;">
            <div class="menu-header">
                <div class="player-info">
                    <div class="player-level">Lv.<span id="playerLevel">1</span></div>
                    <div class="player-exp">
                        <div class="exp-bar">
                            <div class="exp-fill" id="expFill"></div>
                        </div>
                        <span class="exp-text" id="expText">0 / 100</span>
                    </div>
                    <div class="player-stamina">
                        <span class="stamina-icon">‚ö°</span>
                        <span id="stamina">50</span> / <span id="maxStamina">50</span>
                    </div>
                </div>
                <div class="currency">
                    <div class="gold">
                        <span class="gold-icon">üí∞</span>
                        <span id="gold">0</span>
                    </div>
                    <div class="gems">
                        <span class="gem-icon">üíé</span>
                        <span id="gems">5</span>
                    </div>
                </div>
            </div>

            <div class="menu-content">
                <button class="menu-btn" id="dungeonBtn">
                    <span class="btn-icon">üè∞</span>
                    <span class="btn-text">„ÉÄ„É≥„Ç∏„Éß„É≥</span>
                </button>
                <button class="menu-btn" id="monsterBtn">
                    <span class="btn-icon">üê≤</span>
                    <span class="btn-text">„É¢„É≥„Çπ„Çø„Éº</span>
                </button>
                <button class="menu-btn" id="teamBtn">
                    <span class="btn-icon">‚öîÔ∏è</span>
                    <span class="btn-text">„ÉÅ„Éº„É†Á∑®Êàê</span>
                </button>
                <button class="menu-btn" id="evolveBtn">
                    <span class="btn-icon">‚ú®</span>
                    <span class="btn-text">ÈÄ≤ÂåñÂêàÊàê</span>
                </button>
                <button class="menu-btn" id="shopBtn">
                    <span class="btn-icon">üõçÔ∏è</span>
                    <span class="btn-text">„Ç∑„Éß„ÉÉ„Éó</span>
                </button>
                <button class="menu-btn" id="gachaBtn">
                    <span class="btn-icon">üé∞</span>
                    <span class="btn-text">„Ç¨„ÉÅ„É£</span>
                </button>
            </div>
        </div>

        <!-- „ÉÄ„É≥„Ç∏„Éß„É≥ÈÅ∏Êäû -->
        <div class="dungeon-select" id="dungeonSelect" style="display: none;">
            <div class="screen-header">
                <button class="back-btn" id="dungeonBackBtn">‚Üê Êàª„Çã</button>
                <h2>„ÉÄ„É≥„Ç∏„Éß„É≥ÈÅ∏Êäû</h2>
            </div>
            <div class="dungeon-list" id="dungeonList">
                <!-- „ÉÄ„É≥„Ç∏„Éß„É≥„É™„Çπ„Éà„ÅØJS„ÅßÁîüÊàê -->
            </div>
        </div>

        <!-- „Éê„Éà„É´ÁîªÈù¢ -->
        <div class="battle-screen" id="battleScreen" style="display: none;">
            <div class="battle-info">
                <div class="turn-counter">
                    „Çø„Éº„É≥: <span id="turnCount">1</span>
                </div>
                <div class="combo-display" id="comboDisplay" style="display: none;">
                    <span class="combo-count">0</span> COMBO!
                </div>
            </div>

            <!-- Êïµ„Ç®„É™„Ç¢ -->
            <div class="enemy-area">
                <div class="enemies" id="enemies">
                    <!-- Êïµ„ÅØJS„ÅßÁîüÊàê -->
                </div>
            </div>

            <!-- „Éó„É¨„Ç§„É§„Éº„ÉÅ„Éº„É† -->
            <div class="player-team">
                <div class="team-hp">
                    <div class="hp-bar">
                        <div class="hp-fill" id="teamHpFill"></div>
                    </div>
                    <span class="hp-text" id="teamHpText">5000 / 5000</span>
                </div>
                <div class="team-members" id="teamMembers">
                    <!-- „ÉÅ„Éº„É†„É°„É≥„Éê„Éº„ÅØJS„ÅßÁîüÊàê -->
                </div>
            </div>

            <!-- „Éë„Ç∫„É´„Éú„Éº„Éâ -->
            <div class="puzzle-board" id="puzzleBoard">
                <canvas id="puzzleCanvas"></canvas>
                <div class="move-timer" id="moveTimer" style="display: none;">
                    <div class="timer-bar">
                        <div class="timer-fill" id="timerFill"></div>
                    </div>
                </div>
            </div>

            <!-- „Çπ„Ç≠„É´„Éú„Çø„É≥ -->
            <div class="skill-buttons" id="skillButtons">
                <!-- „Çπ„Ç≠„É´„Éú„Çø„É≥„ÅØJS„ÅßÁîüÊàê -->
            </div>
        </div>

        <!-- „É¢„É≥„Çπ„Çø„Éº‰∏ÄË¶ß -->
        <div class="monster-list-screen" id="monsterListScreen" style="display: none;">
            <div class="screen-header">
                <button class="back-btn" id="monsterBackBtn">‚Üê Êàª„Çã</button>
                <h2>„É¢„É≥„Çπ„Çø„ÉºÂõ≥Èëë</h2>
                <div class="sort-options">
                    <select id="sortSelect">
                        <option value="id">Áï™Âè∑È†Ü</option>
                        <option value="level">„É¨„Éô„É´È†Ü</option>
                        <option value="element">Â±ûÊÄßÈ†Ü</option>
                        <option value="rarity">„É¨„Ç¢Â∫¶È†Ü</option>
                    </select>
                </div>
            </div>
            <div class="monster-grid" id="monsterGrid">
                <!-- „É¢„É≥„Çπ„Çø„Éº‰∏ÄË¶ß„ÅØJS„ÅßÁîüÊàê -->
            </div>
        </div>

        <!-- „ÉÅ„Éº„É†Á∑®ÊàêÁîªÈù¢ -->
        <div class="team-edit-screen" id="teamEditScreen" style="display: none;">
            <div class="screen-header">
                <button class="back-btn" id="teamBackBtn">‚Üê Êàª„Çã</button>
                <h2>„ÉÅ„Éº„É†Á∑®Êàê</h2>
                <button class="save-btn" id="saveTeamBtn">‰øùÂ≠ò</button>
            </div>
            
            <div class="team-slots">
                <h3>ÁèæÂú®„ÅÆ„ÉÅ„Éº„É†</h3>
                <div class="current-team" id="currentTeam">
                    <div class="team-slot leader" data-slot="0">
                        <div class="slot-label">„É™„Éº„ÉÄ„Éº</div>
                        <div class="slot-monster"></div>
                    </div>
                    <div class="team-slot" data-slot="1">
                        <div class="slot-label">„Çµ„Éñ1</div>
                        <div class="slot-monster"></div>
                    </div>
                    <div class="team-slot" data-slot="2">
                        <div class="slot-label">„Çµ„Éñ2</div>
                        <div class="slot-monster"></div>
                    </div>
                    <div class="team-slot" data-slot="3">
                        <div class="slot-label">„Çµ„Éñ3</div>
                        <div class="slot-monster"></div>
                    </div>
                    <div class="team-slot" data-slot="4">
                        <div class="slot-label">„Çµ„Éñ4</div>
                        <div class="slot-monster"></div>
                    </div>
                </div>
                
                <div class="team-stats">
                    <div class="stat-item">
                        <span class="stat-label">Á∑èHP:</span>
                        <span class="stat-value" id="totalHp">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Á∑èÊîªÊíÉÂäõ:</span>
                        <span class="stat-value" id="totalAtk">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Á∑èÂõûÂæ©Âäõ:</span>
                        <span class="stat-value" id="totalRcv">0</span>
                    </div>
                </div>
            </div>
            
            <div class="monster-selection">
                <h3>„É¢„É≥„Çπ„Çø„ÉºÈÅ∏Êäû</h3>
                <div class="monster-list" id="teamMonsterList">
                    <!-- „É¢„É≥„Çπ„Çø„Éº„É™„Çπ„Éà„ÅØJS„ÅßÁîüÊàê -->
                </div>
            </div>
        </div>

        <!-- ÈÄ≤ÂåñÂêàÊàêÁîªÈù¢ -->
        <div class="evolution-screen" id="evolutionScreen" style="display: none;">
            <div class="screen-header">
                <button class="back-btn" id="evolveBackBtn">‚Üê Êàª„Çã</button>
                <h2>ÈÄ≤ÂåñÂêàÊàê</h2>
            </div>
            
            <div class="evolution-content">
                <div class="base-monster">
                    <h3>„Éô„Éº„Çπ„É¢„É≥„Çπ„Çø„Éº</h3>
                    <div class="evolution-slot" id="baseMonsterSlot">
                        <div class="slot-empty">„É¢„É≥„Çπ„Çø„Éº„ÇíÈÅ∏Êäû</div>
                    </div>
                </div>
                
                <div class="evolution-arrow">‚Üí</div>
                
                <div class="evolved-monster">
                    <h3>ÈÄ≤ÂåñÂæå</h3>
                    <div class="evolution-slot" id="evolvedMonsterSlot">
                        <div class="slot-empty">ÔºüÔºüÔºü</div>
                    </div>
                </div>
                
                <div class="evolution-materials">
                    <h3>ÂøÖË¶ÅÁ¥†Êùê</h3>
                    <div class="material-slots" id="materialSlots">
                        <!-- Á¥†Êùê„Çπ„É≠„ÉÉ„Éà„ÅØJS„ÅßÁîüÊàê -->
                    </div>
                </div>
                
                <button class="evolve-execute-btn" id="evolveExecuteBtn" disabled>ÈÄ≤ÂåñÂÆüË°å</button>
            </div>
            
            <div class="evolvable-monsters">
                <h3>ÈÄ≤ÂåñÂèØËÉΩ„É¢„É≥„Çπ„Çø„Éº</h3>
                <div class="monster-list" id="evolvableList">
                    <!-- ÈÄ≤ÂåñÂèØËÉΩ„É¢„É≥„Çπ„Çø„Éº„ÅØJS„ÅßÁîüÊàê -->
                </div>
            </div>
        </div>

        <!-- „Ç∑„Éß„ÉÉ„ÉóÁîªÈù¢ -->
        <div class="shop-screen" id="shopScreen" style="display: none;">
            <div class="screen-header">
                <button class="back-btn" id="shopBackBtn">‚Üê Êàª„Çã</button>
                <h2>„Ç∑„Éß„ÉÉ„Éó</h2>
            </div>
            
            <div class="shop-tabs">
                <button class="shop-tab active" data-tab="items">„Ç¢„Ç§„ÉÜ„É†</button>
                <button class="shop-tab" data-tab="stamina">„Çπ„Çø„Éü„Éä</button>
                <button class="shop-tab" data-tab="special">ÁâπÂà•</button>
            </div>
            
            <div class="shop-content" id="shopContent">
                <!-- „Ç∑„Éß„ÉÉ„ÉóÂÜÖÂÆπ„ÅØJS„ÅßÁîüÊàê -->
            </div>
        </div>

        <!-- „Ç¨„ÉÅ„É£ÁîªÈù¢ -->
        <div class="gacha-screen" id="gachaScreen" style="display: none;">
            <div class="screen-header">
                <button class="back-btn" id="gachaBackBtn">‚Üê Êàª„Çã</button>
                <h2>„É¨„Ç¢„Ç¨„ÉÅ„É£</h2>
            </div>
            
            <div class="gacha-content">
                <div class="gacha-banner">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 200'%3E%3Crect fill='%23FFD700' width='400' height='200'/%3E%3Ctext x='200' y='100' text-anchor='middle' font-size='24' fill='%23000'%3EË∂Ö„É¨„Ç¢Á¢∫ÁéáUP!%3C/text%3E%3C/svg%3E" alt="„Ç¨„ÉÅ„É£„Éê„Éä„Éº">
                </div>
                
                <div class="gacha-buttons">
                    <button class="gacha-btn single-gacha" id="singleGachaBtn">
                        <span class="gacha-icon">üíé</span>
                        <span class="gacha-cost">5</span>
                        <span class="gacha-text">1Âõû„Ç¨„ÉÅ„É£</span>
                    </button>
                    <button class="gacha-btn multi-gacha" id="multiGachaBtn">
                        <span class="gacha-icon">üíé</span>
                        <span class="gacha-cost">50</span>
                        <span class="gacha-text">11ÈÄ£„Ç¨„ÉÅ„É£</span>
                    </button>
                </div>
                
                <div class="gacha-rates">
                    <h3>ÊéíÂá∫Áéá</h3>
                    <div class="rate-list">
                        <div class="rate-item">
                            <span class="rarity-star">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span class="rate">3%</span>
                        </div>
                        <div class="rate-item">
                            <span class="rarity-star">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span class="rate">12%</span>
                        </div>
                        <div class="rate-item">
                            <span class="rarity-star">‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span class="rate">35%</span>
                        </div>
                        <div class="rate-item">
                            <span class="rarity-star">‚òÖ‚òÖ‚òÖ</span>
                            <span class="rate">50%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- „Ç¨„ÉÅ„É£ÁµêÊûú -->
        <div class="gacha-result" id="gachaResult" style="display: none;">
            <div class="result-content">
                <h2>Áç≤Âæó„É¢„É≥„Çπ„Çø„ÉºÔºÅ</h2>
                <div class="result-monsters" id="resultMonsters">
                    <!-- ÁµêÊûú„ÅØJS„ÅßÁîüÊàê -->
                </div>
                <button class="ok-btn" id="gachaOkBtn">OK</button>
            </div>
        </div>

        <!-- „ÉÄ„É°„Éº„Ç∏Ë°®Á§∫Áî®„Ç™„Éº„Éê„Éº„É¨„Ç§ -->
        <div class="damage-overlay" id="damageOverlay"></div>

        <!-- „Çπ„ÉÜ„Éº„Ç∏„ÇØ„É™„Ç¢ÁîªÈù¢ -->
        <div class="stage-clear" id="stageClear" style="display: none;">
            <div class="clear-content">
                <h1>STAGE CLEAR!</h1>
                <div class="clear-rewards">
                    <h3>Áç≤ÂæóÂ†±ÈÖ¨</h3>
                    <div class="reward-list" id="rewardList">
                        <!-- Â†±ÈÖ¨„ÅØJS„ÅßÁîüÊàê -->
                    </div>
                </div>
                <div class="clear-stats">
                    <div class="stat">ÊúÄÂ§ß„Ç≥„É≥„Éú: <span id="maxCombo">0</span></div>
                    <div class="stat">„ÇØ„É™„Ç¢„Çø„Éº„É≥: <span id="clearTurns">0</span></div>
                    <div class="stat">Áç≤ÂæóÁµåÈ®ìÂÄ§: <span id="gainedExp">0</span></div>
                </div>
                <button class="continue-btn" id="nextFloorBtn">Ê¨°„ÅÆ„Éï„É≠„Ç¢„Å∏</button>
                <button class="return-btn" id="returnMenuBtn">„É°„Éã„É•„Éº„Å´Êàª„Çã</button>
            </div>
        </div>

        <!-- „Ç≤„Éº„É†„Ç™„Éº„Éê„ÉºÁîªÈù¢ -->
        <div class="game-over" id="gameOver" style="display: none;">
            <div class="game-over-content">
                <h1>GAME OVER</h1>
                <p>„Éë„Éº„ÉÜ„Ç£„Éº„ÅåÂÖ®ÊªÖ„Åó„Åæ„Åó„Åü...</p>
                <button class="retry-btn" id="retryBtn">„É™„Éà„É©„Ç§ (üíé1)</button>
                <button class="giveup-btn" id="giveupBtn">Ë´¶„ÇÅ„Çã</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>